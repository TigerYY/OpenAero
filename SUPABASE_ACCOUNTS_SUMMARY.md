# Supabase 账号清理指南

## 📊 当前状态总结

**生成时间**: 2025年11月12日

**总用户数**: 15个

根据分析，以下是账号分类和建议：

---

## ✅ 必须保留的账号 (1个)

### 生产账号 - 已验证

1. **admin@openaero.com**
   - 状态: ✅ 已验证
   - 角色: USER (建议升级为ADMIN)
   - 最后登录: 2025/11/10
   - **必须保留**: 主要管理员账号

---

## ⏳ 观察中的账号 (14个)

### 近期创建的账号 (7天内)

这些账号是最近创建的，建议观察一段时间再决定：

#### 未验证账号 (需要关注)

1. **user@openaero.cn**
   - 创建: 2025/11/10
   - 状态: ❌ 未验证
   - 最后登录: 从未登录
   - **建议**: 7天后若仍未验证可删除

2. **alice@example.com**
   - 创建: 2025/11/10
   - 状态: ❌ 未验证  
   - 最后登录: 从未登录
   - **标记**: 🧪 测试账号 (example.com域名)
   - **建议**: 可以删除

3. **bob@example.com**
   - 创建: 2025/11/10
   - 状态: ❌ 未验证
   - 最后登录: 从未登录
   - **标记**: 🧪 测试账号 (example.com域名)
   - **建议**: 可以删除

4. **charlie@example.com**
   - 创建: 2025/11/10
   - 状态: ❌ 未验证
   - 最后登录: 从未登录
   - **标记**: 🧪 测试账号 (example.com域名)
   - **建议**: 可以删除

5. **testuser@example.com**
   - 创建: 2025/11/9
   - 状态: ❌ 未验证
   - 最后登录: 从未登录
   - **标记**: 🧪 明确的测试账号
   - **建议**: 可以立即删除

#### 已验证账号 (观察中)

6. **test1@outlook.com**
   - 创建: 2025/11/9
   - 状态: ✅ 已验证
   - 最后登录: 2025/11/10
   - **标记**: 🧪 测试账号 (名称包含test)
   - **建议**: 确认是否为真实用户，否则删除

7. **test2@outlook.com**
   - 创建: 2025/11/9
   - 状态: ✅ 已验证
   - 最后登录: 2025/11/10
   - **标记**: 🧪 测试账号 (名称包含test)
   - **建议**: 确认是否为真实用户，否则删除

8. **testuser1@gmail.com**
   - 创建: 2025/11/9
   - 状态: ✅ 已验证
   - 最后登录: 2025/11/10
   - **标记**: 🧪 测试账号
   - **建议**: 确认是否为真实用户，否则删除

9. **testuser2@gmail.com**
   - 创建: 2025/11/9
   - 状态: ✅ 已验证
   - 最后登录: 2025/11/10
   - **标记**: 🧪 测试账号
   - **建议**: 确认是否为真实用户，否则删除

10. **testuser3@gmail.com**
    - 创建: 2025/11/9
    - 状态: ✅ 已验证
    - 最后登录: 2025/11/10
    - **标记**: 🧪 测试账号
    - **建议**: 确认是否为真实用户，否则删除

11. **demo@openaero.com**
    - 创建: 2025/11/10
    - 状态: ✅ 已验证
    - 最后登录: 2025/11/10
    - **标记**: 🧪 演示账号
    - **建议**: 如果用于演示目的可保留，否则删除

12. **creator1@example.com**
    - 创建: 2025/11/9
    - 状态: ❌ 未验证
    - 最后登录: 从未登录
    - **标记**: 🧪 测试账号
    - **建议**: 可以删除

13. **buyer1@example.com**
    - 创建: 2025/11/9
    - 状态: ❌ 未验证
    - 最后登录: 从未登录
    - **标记**: 🧪 测试账号
    - **建议**: 可以删除

14. **supplier1@example.com**
    - 创建: 2025/11/9
    - 状态: ❌ 未验证
    - 最后登录: 从未登录
    - **标记**: 🧪 测试账号
    - **建议**: 可以删除

---

## 🗑️ 建议删除的账号清单

### 立即可删除 (9个测试账号)

**未验证的测试账号**:
1. alice@example.com
2. bob@example.com
3. charlie@example.com
4. testuser@example.com
5. creator1@example.com
6. buyer1@example.com
7. supplier1@example.com

**已验证但明确是测试的账号** (建议先确认):
8. test1@outlook.com
9. test2@outlook.com
10. testuser1@gmail.com
11. testuser2@gmail.com
12. testuser3@gmail.com

### 可选删除 (演示账号)

- demo@openaero.com - 如果不用于演示可删除

---

## 📋 清理建议

### 方案A: 保守清理 (推荐)

**保留**:
- admin@openaero.com (管理员)
- demo@openaero.com (演示用)
- user@openaero.cn (观察7天)

**删除**:
- 所有 @example.com 的账号 (7个)
- testuser@example.com (1个)

**总计删除**: 8个账号

### 方案B: 彻底清理

**保留**:
- admin@openaero.com (管理员)

**删除**:
- 所有测试账号 (test*, demo*, example.com)
- 所有未验证账号

**总计删除**: 14个账号

### 方案C: 生产准备

**保留**:
- admin@openaero.com (升级为ADMIN角色)

**创建新的演示账号** (如果需要):
- demo@openaero.com (重新创建并验证)
- creator-demo@openaero.com
- buyer-demo@openaero.com

**删除**: 所有现有测试账号

---

## 🛠️ 执行清理

### 手动删除 (Supabase Dashboard)

1. 访问: https://supabase.com/dashboard/project/cardynuoazvaytvinxvm
2. 进入 Authentication > Users
3. 逐个选择要删除的用户并点击删除

### 批量删除 (脚本)

如果需要批量删除，我可以创建删除脚本。请先确认要删除的账号列表。

---

## ⚠️ 重要提示

1. **删除前备份**: 确保已备份所有重要数据
2. **确认账号**: 再次确认要删除的账号不是生产用户
3. **测试环境**: 建议先在测试环境验证删除流程
4. **升级管理员**: 将 admin@openaero.com 的角色升级为 ADMIN
5. **创建真实用户**: 删除测试账号后，为真实用户场景创建适当的账号

---

## 📊 当前问题总结

1. **测试账号过多**: 15个账号中至少12个是测试账号
2. **缺少管理员**: admin@openaero.com 角色仍是 USER，需升级
3. **未验证账号多**: 有8个账号未验证邮箱
4. **命名不规范**: 使用 example.com 等明显的测试域名

## ✅ 推荐操作步骤

1. **立即执行**:
   - 删除所有 @example.com 域名的账号 (7个)
   - 删除 testuser@example.com

2. **一周后执行**:
   - 删除仍未验证的 user@openaero.cn
   - 确认并删除 test1-3@outlook.com 和 testuser1-3@gmail.com

3. **系统配置**:
   - 升级 admin@openaero.com 为 ADMIN 角色
   - 配置邮箱验证流程
   - 添加账号创建限制

4. **生产准备**:
   - 创建正式的演示账号（如需要）
   - 文档化账号用途
   - 设置定期清理策略

---

**最终建议**: 采用**方案A (保守清理)**，保留核心账号，删除明确的测试账号，观察其他账号一段时间。
