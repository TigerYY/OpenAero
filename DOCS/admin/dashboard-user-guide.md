# 管理员仪表板使用指南

## 概述

管理员仪表板是OpenAero平台的管理中心，提供全面的平台数据监控、统计分析和快速操作功能。

## 访问仪表板

### 权限要求

- 需要`ADMIN`或`SUPER_ADMIN`角色
- 用户状态必须为`ACTIVE`

### 访问地址

```
http://localhost:3000/zh-CN/admin/dashboard
```

## 功能模块

### 1. 统计概览

仪表板顶部显示核心统计数据卡片：

- **总方案数**: 平台所有方案的总数
- **待审核方案**: 需要审核的方案数量
- **总用户数**: 平台注册用户总数
- **活跃用户**: 最近30天活跃的用户数
- **总订单数**: 平台所有订单总数
- **总收入**: 平台累计收入
- **平均审核时间**: 方案从提交到审核完成的平均时间

#### 时间范围选择

点击时间范围选择器可以切换统计时间范围：
- 7天
- 30天（默认）
- 90天
- 自定义范围

---

### 2. 预警面板

预警面板显示系统关键指标的异常情况：

#### 预警级别

- **严重（Critical）**: 红色标识，需要立即处理
  - 待审核方案积压超过阈值
  - 系统错误率过高

- **警告（Warning）**: 黄色标识，需要关注
  - 用户增长下降
  - 审核时间过长
  - 收入下降

- **信息（Info）**: 蓝色标识，仅供参考
  - 系统更新通知
  - 功能提醒

#### 预警操作

- 点击预警卡片查看详细信息
- 点击"关闭"按钮可关闭预警（功能待实现）

---

### 3. 数据可视化

#### 平台趋势图

折线图显示方案和用户数量的增长趋势：
- X轴：日期
- Y轴：数量
- 两条线：方案数（蓝色）、用户数（绿色）

#### 分类分布图

饼图显示方案在各分类中的分布：
- 每个扇形代表一个分类
- 显示分类名称和百分比
- 点击图例可隐藏/显示对应分类

#### 状态分布图

柱状图显示方案的状态分布：
- X轴：状态名称（活跃、待审核、已拒绝等）
- Y轴：方案数量
- 不同颜色代表不同状态

#### 收入趋势图

折线图显示平台收入的变化趋势：
- X轴：日期
- Y轴：收入金额（元）
- 绿色线条表示收入趋势

---

### 4. 实时活动流

活动流显示平台的最新活动：

#### 活动类型

- **用户注册**: 新用户注册账号
- **方案提交**: 创作者提交新方案
- **审核完成**: 管理员完成方案审核
- **订单创建**: 用户创建新订单

#### 功能操作

- **筛选**: 点击筛选下拉菜单选择活动类型
- **刷新**: 点击刷新按钮手动更新活动流
- **自动刷新**: 默认每30秒自动刷新一次

#### 时间显示

活动时间以相对时间显示：
- 刚刚（< 1分钟）
- X分钟前（< 1小时）
- X小时前（< 24小时）
- X天前（< 7天）
- 具体日期（> 7天）

---

### 5. 快速操作

快速操作区域提供常用管理功能：

#### 批量批准方案

一键批准所有待审核方案：
1. 点击"批量批准"按钮
2. 确认操作
3. 系统自动批准所有待审核方案

#### 批量拒绝方案

批量拒绝待审核方案：
1. 点击"批量拒绝"按钮
2. 输入拒绝原因
3. 确认操作

#### 导出数据

导出平台数据用于分析：

**导出方案数据**:
1. 点击"导出方案"按钮
2. 选择导出格式（JSON、CSV、Excel）
3. 设置筛选条件（可选）：
   - 状态筛选
   - 分类筛选
   - 日期范围
   - 价格范围
4. 点击"导出"按钮
5. 文件自动下载

**导出用户数据**:
1. 点击"导出用户"按钮
2. 选择导出格式
3. 设置筛选条件（可选）：
   - 角色筛选
   - 状态筛选
   - 注册日期范围
4. 点击"导出"按钮

---

## 使用技巧

### 1. 性能优化

- **缓存利用**: 统计数据每5分钟缓存一次，图表数据每10分钟缓存一次
- **懒加载**: 图表组件使用懒加载，提升页面加载速度
- **虚拟滚动**: 活动流使用虚拟滚动，支持大量数据流畅显示

### 2. 数据刷新

- **自动刷新**: 活动流和预警面板支持自动刷新
- **手动刷新**: 点击刷新按钮可立即更新数据
- **缓存清除**: 执行批量操作后，相关缓存会自动清除

### 3. 时间范围选择

- 选择合适的时间范围可以更准确地分析趋势
- 短期范围（7-30天）适合查看近期变化
- 长期范围（90天+）适合分析整体趋势

### 4. 预警处理

- 定期查看预警面板，及时处理严重问题
- 关注警告级别的预警，预防问题升级
- 信息级别的预警可作为参考

---

## 常见问题

### Q: 统计数据不更新？

A: 
1. 检查缓存是否过期（统计数据缓存5分钟）
2. 点击刷新按钮手动更新
3. 检查网络连接是否正常

### Q: 图表显示"暂无数据"？

A:
1. 检查选择的时间范围内是否有数据
2. 尝试扩大时间范围
3. 检查数据库连接是否正常

### Q: 导出功能失败？

A:
1. 检查数据量是否过大（建议分批导出）
2. 确认浏览器支持文件下载
3. 检查网络连接是否稳定

### Q: 活动流不自动刷新？

A:
1. 检查"自动刷新"开关是否开启
2. 确认刷新间隔设置合理（建议30-60秒）
3. 检查浏览器标签页是否处于活动状态

---

## 最佳实践

### 1. 日常监控

- 每天查看统计概览，了解平台整体情况
- 关注预警面板，及时处理异常
- 定期查看活动流，了解平台动态

### 2. 数据分析

- 使用图表分析趋势，制定运营策略
- 导出数据进行深度分析
- 对比不同时间范围的数据，发现变化

### 3. 操作规范

- 批量操作前仔细确认
- 拒绝方案时提供明确原因
- 定期清理过期数据

---

## 技术支持

如遇到问题，请联系技术支持团队或查看：
- API文档: `docs/admin/dashboard-api.md`
- 组件文档: `docs/admin/dashboard-components.md`
- 性能优化文档: `docs/admin/dashboard-performance-optimization.md`

